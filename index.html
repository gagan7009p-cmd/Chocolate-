<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Surprise for Bugggyee</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Patrick+Hand&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #ffe6f2; /* Light Pink Base */
            font-family: 'Patrick Hand', cursive;
            overflow: hidden;
            touch-action: none;
            height: 100vh;
            width: 100vw;
            position: relative;
        }

        /* --- BACKGROUND EMOJIS (Floating) --- */
        .bg-emoji {
            position: absolute;
            z-index: -1;
            user-select: none;
            animation: floatBackground 5s ease-in-out infinite alternate;
        }

        @keyframes floatBackground {
            from { transform: translateY(0px); }
            to { transform: translateY(-15px); }
        }

        /* --- SCREENS --- */
        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none; /* Hidden by default */
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            z-index: 10;
        }

        .active {
            display: flex;
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        /* --- VIDEO CONTAINER --- */
        .video-box {
            width: 280px;
            height: 400px; /* Vertical video size */
            border-radius: 20px;
            overflow: hidden;
            background: #fff;
            box-shadow: 0 10px 25px rgba(216, 27, 96, 0.2);
            margin-bottom: 20px;
            border: 4px solid white;
        }
        
        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* --- TEXT STYLES --- */
        h1 {
            color: #d81b60;
            font-family: 'Fredoka One', cursive;
            font-size: 1.8rem;
            margin: 10px 20px;
            line-height: 1.4;
            text-shadow: 2px 2px 0px rgba(255,255,255,0.8);
        }

        p {
            color: #880e4f;
            font-size: 1.3rem;
            margin: 5px 20px 20px 20px;
            font-weight: bold;
        }

        /* --- BUTTONS --- */
        .btn {
            background: #ff4081;
            color: white;
            border: none;
            padding: 12px 35px;
            font-size: 1.3rem;
            border-radius: 50px;
            font-family: 'Fredoka One', cursive;
            box-shadow: 0 5px 0 #c60055;
            cursor: pointer;
            transition: all 0.1s;
            margin-top: 10px;
        }
        .btn:active {
            transform: translateY(4px);
            box-shadow: 0 1px 0 #c60055;
        }

        /* --- GAME AREA --- */
        #game-area {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
        }

        #basket {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 70px;
            z-index: 20;
            filter: drop-shadow(0 5px 5px rgba(0,0,0,0.2));
        }

        .chocolate {
            position: absolute;
            font-size: 45px; /* Thoda bada size */
            z-index: 15;
        }

        #score-display {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 8px 25px;
            border-radius: 30px;
            font-size: 1.4rem;
            color: #d81b60;
            font-weight: bold;
            box-shadow: 0 5px 10px rgba(0,0,0,0.1);
            z-index: 30;
            border: 2px solid #ff4081;
        }
        
        .flex-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

    </style>
</head>
<body>

    <div id="emoji-bg"></div>

    <div id="screen-1" class="screen active">
        <div class="video-box">
            <video autoplay loop muted playsinline>
                <source src="https://www.dropbox.com/scl/fi/qa7u6ecmbi3au8lcyq7z2/Video-09-02-26-12-16-46-AM.mov?rlkey=rjbg6vgags3ijjxsy68bhio3k&st=yw5bf16x&dl=1" type="video/mp4">
            </video>
        </div>
        
        <div class="flex-row">
            <h1>hi my love i have a surprise for you</h1>
            <button class="btn" onclick="startGame()">what >></button>
        </div>
    </div>

    <div id="screen-2" class="screen">
        <div id="score-display">Catch: <span id="score">0</span> / 20</div>
        <div id="game-area">
            <div id="basket">ğŸ§º</div>
        </div>
    </div>

    <div id="screen-3" class="screen">
        <h1>happy chocolate day mere bugggyeeğŸ˜ğŸ«‚â¤ï¸ğŸ’–ğŸ§¿ğŸ«¶ğŸ˜š ğŸ«</h1>
        <p>you are sooo sweeter than chocolates</p>
        <button class="btn" onclick="showFinalScreen()">Next >></button>
    </div>

    <div id="screen-4" class="screen">
        <div class="video-box">
            <video autoplay loop muted playsinline>
                <source src="https://www.dropbox.com/scl/fi/o1fd6g8psqmp4z8yk1gyy/Video-09-02-26-1-04-32-AM.mov?rlkey=nwqcg8c56133f4oym8l9xrnwj&st=5vigfn2p&dl=1" type="video/mp4">
            </video>
        </div>
        <h1>i lovee youu sooo much meri mithii</h1>
        <p>sending you alot of virtual hugs and kisses with full of love ğŸ«‚ğŸ˜˜ğŸ˜ğŸ˜šğŸ«¶ğŸ§¿ğŸ’–ğŸ«‚ğŸ«‚â¤ï¸ğŸ’—</p>
    </div>

<script>
    // --- 1. BACKGROUND EMOJI GENERATOR ---
    const bgContainer = document.getElementById('emoji-bg');
    const emojis = ['âœ¨', 'â¤ï¸', 'ğŸ’–', 'ğŸ§¿', 'ğŸ˜˜', 'ğŸ˜', 'ğŸ«‚', 'ğŸ«'];

    function createBackground() {
        for (let i = 0; i < 25; i++) { // 25 random emojis
            const span = document.createElement('span');
            span.classList.add('bg-emoji');
            span.innerText = emojis[Math.floor(Math.random() * emojis.length)];
            
            // Random Positioning
            span.style.left = Math.random() * 100 + 'vw';
            span.style.top = Math.random() * 100 + 'vh';
            
            // Random Size (Small to Big)
            const size = Math.random() * 30 + 15; // 15px to 45px
            span.style.fontSize = size + 'px';
            
            // Random Opacity (Transparent to Solid)
            span.style.opacity = Math.random() * 0.6 + 0.1; // 0.1 to 0.7
            
            bgContainer.appendChild(span);
        }
    }
    createBackground(); // Run on load

    // --- 2. GAME VARIABLES ---
    let score = 0;
    const target = 20;
    let gameInterval, spawnInterval;
    const basket = document.getElementById('basket');
    const gameArea = document.getElementById('game-area');
    const scoreText = document.getElementById('score');

    // --- 3. NAVIGATION ---
    function showScreen(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    function showFinalScreen() {
        showScreen('screen-4');
    }

    // --- 4. GAME LOGIC ---
    function startGame() {
        showScreen('screen-2');
        score = 0;
        scoreText.innerText = score;

        // Touch Controls
        gameArea.addEventListener('touchmove', (e) => {
            e.preventDefault();
            moveBasket(e.touches[0].clientX);
        }, { passive: false });
        
        // Mouse Controls
        gameArea.addEventListener('mousemove', (e) => moveBasket(e.clientX));

        // SPAWN RATE: 700ms (Not too fast spawning, but distinct)
        spawnInterval = setInterval(createChocolate, 700);
        gameInterval = requestAnimationFrame(updateGame);
    }

    function moveBasket(x) {
        let max = window.innerWidth - basket.clientWidth;
        let newPos = x - (basket.clientWidth / 2);
        if (newPos < 0) newPos = 0;
        if (newPos > max) newPos = max;
        basket.style.left = newPos + 'px';
    }

    function createChocolate() {
        const el = document.createElement('div');
        el.classList.add('chocolate');
        el.innerText = ['ğŸ«', 'ğŸ¬', 'ğŸ©'][Math.floor(Math.random() * 3)];
        
        // Random Position (Full Width)
        el.style.left = Math.random() * (window.innerWidth - 60) + 'px';
        el.style.top = '-60px';
        
        // SPEED: High (Fast Fall)
        // Values between 6 and 10 pixels per frame
        el.dataset.speed = Math.random() * 4 + 6; 
        
        gameArea.appendChild(el);
    }

    function updateGame() {
        const chocolates = document.querySelectorAll('.chocolate');
        const basketRect = basket.getBoundingClientRect();

        chocolates.forEach(choco => {
            let speed = parseFloat(choco.dataset.speed);
            let currentTop = parseFloat(choco.style.top || -60);
            
            // Move Down
            choco.style.top = (currentTop + speed) + 'px';

            const chocoRect = choco.getBoundingClientRect();

            // Collision Detection
            if (
                chocoRect.bottom >= basketRect.top + 30 &&
                chocoRect.right > basketRect.left + 15 &&
                chocoRect.left < basketRect.right - 15 &&
                chocoRect.top < basketRect.bottom
            ) {
                // CAUGHT!
                score++;
                scoreText.innerText = score;
                choco.remove();
                
                // Win Condition
                if (score >= target) {
                    gameWon();
                }
            } 
            // Missed (Fell off screen)
            else if (currentTop > window.innerHeight) {
                choco.remove();
            }
        });

        if (score < target) {
            gameInterval = requestAnimationFrame(updateGame);
        }
    }

    function gameWon() {
        clearInterval(spawnInterval);
        cancelAnimationFrame(gameInterval);
        
        // Clean up
        document.querySelectorAll('.chocolate').forEach(c => c.remove());
        
        // Go to Message Screen
        showScreen('screen-3');
    }

</script>
</body>
</html>
